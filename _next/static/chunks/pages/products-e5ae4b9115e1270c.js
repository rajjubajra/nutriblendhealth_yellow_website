(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{4918:function(i,l,d){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return d(7377)}])},4638:function(i,l,d){"use strict";d.d(l,{C:function(){return t}});var n=d(7294),o=d(7633),e=d(491),u=d(5121);let a=async()=>(await u.Z.get("".concat(e.g.url,"/jsonapi/media/image?include=field_media_image&fields[file--file]=uri,url"),{headers:{Accept:"application/vnd.api+json"}})).data;function t(){let[i,l]=(0,n.useState)([]),{data:d,isLoading:e,isError:u}=(0,o.a)({queryKey:["media_image"],queryFn:a});return(0,n.useEffect)(()=>{var i;let n=(i,l)=>{var d,n;let o=i.find(i=>i.id===l);return null==o?void 0:null===(n=o.attributes)||void 0===n?void 0:null===(d=n.uri)||void 0===d?void 0:d.url},o=[];d&&(null==d||null===(i=d.data)||void 0===i||i.map(i=>{var l,e,u,a,t,v,r,s,c,m,h,p,_,f,g,j,w,y,x,b;return o.push({id:null==i?void 0:i.id,imageId:null==i?void 0:null===(u=i.relationships)||void 0===u?void 0:null===(e=u.field_media_image)||void 0===e?void 0:null===(l=e.data)||void 0===l?void 0:l.id,alt:null==i?void 0:null===(r=i.relationships)||void 0===r?void 0:null===(v=r.field_media_image)||void 0===v?void 0:null===(t=v.data)||void 0===t?void 0:null===(a=t.meta)||void 0===a?void 0:a.alt,width:null==i?void 0:null===(m=i.relationships)||void 0===m?void 0:null===(c=m.field_media_image)||void 0===c?void 0:null===(s=c.data.meta)||void 0===s?void 0:s.width,height:null==i?void 0:null===(_=i.relationships)||void 0===_?void 0:null===(p=_.field_media_image)||void 0===p?void 0:null===(h=p.data.meta)||void 0===h?void 0:h.height,imageTitle:null==i?void 0:null===(w=i.relationships)||void 0===w?void 0:null===(j=w.field_media_image)||void 0===j?void 0:null===(g=j.data)||void 0===g?void 0:null===(f=g.meta)||void 0===f?void 0:f.title,url:n(null==d?void 0:d.included,null==i?void 0:null===(b=i.relationships)||void 0===b?void 0:null===(x=b.field_media_image)||void 0===x?void 0:null===(y=x.data)||void 0===y?void 0:y.id)})})),l(o)},[d]),{mediaImage:i,isLoading:e,isError:u}}},7377:function(i,l,d){"use strict";d.r(l),d.d(l,{default:function(){return m}});var n=d(5893),o=d(7633),e=d(491),u=d(5121);let a=async()=>(await u.Z.get("".concat(e.g.url,"/jsonapi/node/products"),{headers:{Accept:"application/vnd.api+json"}})).data;var t=d(4638),v=d(6265),r=d(6446),s=d(5675),c=d.n(s),m=function(){var i;let{mediaImage:l}=(0,t.C)();console.log("Media Image: ",l);let{data:d,isLoading:u,isError:s}=function(){let{data:i,isLoading:l,isError:d}=(0,o.a)({queryKey:["products"],queryFn:a});return{data:i,isLoading:l,isError:d}}();return(console.log("Products",d,u,s),s)?(0,n.jsx)(v.Z,{}):u?(0,n.jsx)(r.Z,{}):(0,n.jsx)("div",{children:d&&(null==d?void 0:null===(i=d.data)||void 0===i?void 0:i.map(i=>{var d,o,u,a,t,v;return(0,n.jsxs)("div",{className:"border m-4 p-2",children:[(0,n.jsx)("h3",{children:null==i?void 0:null===(d=i.attributes)||void 0===d?void 0:d.title}),(0,n.jsx)("div",{children:null==i?void 0:null===(a=i.relationships)||void 0===a?void 0:null===(u=a.field_product_image)||void 0===u?void 0:null===(o=u.data)||void 0===o?void 0:o.map(i=>{let d=null==l?void 0:l.find(l=>(null==l?void 0:l.id)===(null==i?void 0:i.id));return d&&(0,n.jsx)(c(),{className:"w-52 p-2 m-2",src:"".concat(null===e.g||void 0===e.g?void 0:e.g.uri).concat(null==d?void 0:d.url),width:null==d?void 0:d.width,height:null==d?void 0:d.height,alt:null==d?void 0:d.alt},null==i?void 0:i.id)})}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:null==i?void 0:null===(v=i.attributes)||void 0===v?void 0:null===(t=v.body)||void 0===t?void 0:t.value}})})]},i.id)}))})}}},function(i){i.O(0,[888,774,179],function(){return i(i.s=4918)}),_N_E=i.O()}]);